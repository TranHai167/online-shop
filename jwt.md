# JWT Introduction:

- JWT is most commonly used in authorization.
- A JSON Web Token (JWT) is a standardised format for securely exchanging data between two parties.
- It is compact, readable and digitally signed using a private key/ or a public key pair by the Identity Provider(IdP). So the integrity and authenticity of the token can be verified by other parties involved.
- The goal of using JWT is not to hide data, but to ensure the data's authenticity. JWT is signed and encoded rather than encrypted.
- JWT is a stateless authentication mechanism based on tokens. Because it is a client-side stateless session, the server does not have to rely solely on a datastore (database) to save session information.
- It consists of three elements:
    1. **Header -** JWT header consists of token type and algorithm used for signing and encoding. Algorithms can be HMAC, SHA256, RSA, HS256 or RS256.
    2. **Payload -** This is also a JSON object and is used to store the user’s information like id, username, role, token generation time and other custom claims.
    3. **Signature -** The most crucial aspect of a JSON Web Token is its signature (JWT). The signature is generated by encoding the header and payload with Base64url Encoding and concatenating them with a period separator(**.**). This information is subsequently passed to the cryptography algorithm. As a result, if the header or payload changes, the signature must be computed again. Only the Identity Provider (IdP) has access to the private key used to generate the signature, which prohibits token manipulation.

    ```python
    header.payload.signature
    ```

- JWT can be generated with two encryption mechanisms called Symmetric and Asymmetric encryption.
    - **Symmetric:** *This mechanism requires a single key to create and verify the JWT. The most common algorithm for this type is HS256.*
    - **Asymmetric:** *This mechanism requires a Public key for verification and a Private key for signing the Signature. The most common algorithm for this type is RS256.*
- **Key ID (kid)** is an optional header with a string type that is used to identify a specific key in the filesystem or database and then use its content to validate the Signature. This argument is useful if the Application has several keys for signing tokens, but it can be problematic if it is injectable since an attacker can refer to a specific file with predictable content.

## Workflow:

- Basically the identity provider(IdP) generates a JWT certifying user identity and Resource server decodes and verifies the authenticity of the token using secret salt / public key.

```python
1. User sign-in using username and password or google/facebook.
2. Authentication server verifies the credentials and issues a jwt signed using either a secret salt or a private key.
3. User’s Client uses the JWT to access protected resources by passing the JWT in HTTP Authorization header.
4. Resource server then verifies the authenticity of the token using the secret salt/ public key.
```

![https://cdn.hashnode.com/res/hashnode/image/upload/v1616225393075/v2TJSq1Hb.png?auto=compress,format&format=webp](https://cdn.hashnode.com/res/hashnode/image/upload/v1616225393075/v2TJSq1Hb.png?auto=compress,format&format=webp)

